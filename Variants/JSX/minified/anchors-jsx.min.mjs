export function html(e,...t){let o=[],r=[...t];e.forEach((e,t)=>{o.push(e),void 0!=r[t]&&o.push(r[t])});let n="";o.forEach(e=>{"string"==typeof e?n+=e:n+="<xx></xx>"}),(n=n.replaceAll("<>","<div>").replaceAll("</>","</div>")).includes("/>")&&(n=namer(n));let l=document.createRange().createContextualFragment(n);return[...t].forEach(e=>{let t=l.querySelector("xx");"object"==typeof e||"number"==typeof e?t.replaceWith(e):"function"==typeof e&&t.replaceWith(e())}),l}function namer(e){let t=e,o=t.split("/>").length-1,r=0;for(;o>r;){let n=t.search("/>")-1,l=0,c="";for(;n-l>=-1;){if("<"==t.charAt(n-l)){let i=(c=c.split("").reverse().join("")).split(" ")[0],p,f=`<${i} ${c.replace(i,"")||""}></${i}>`;t=t.slice(0,n-l)+f+t.slice(n+3,t.length),r++,n="",l=0,c=""}else c+=t.charAt(n-l);l++}}return t}Object.prototype.render=function(e){this.textContent="",this.append("object"==typeof e?e:"function"==typeof e?e():"")},Object.prototype.component=function(e,t){let o="string"==typeof e?t:e,r="string"!=typeof e?"function"==typeof e?e.name:Object.keys(e)[0]:e;"object"==typeof o&&"string"==typeof e?this.querySelectorAll(e).forEach(e=>{e.render(t)}):"function"==typeof o&&this.querySelectorAll(r).forEach(e=>{let t=e.getAttributeNames(),r={};t.forEach(t=>{r[t]=e.getAttribute(t)});let n=new DocumentFragment,l=[...e.childNodes];l.forEach(e=>{n.append(e)});let c=o(r??void 0,l.length>0?n:void 0);e.replaceWith(c)})};